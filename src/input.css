@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
body {
  @apply font-sans bg-blue-50 text-gray-800 min-h-screen m-0;
  padding: 2vw; /* Scales with viewport, matches 20px at 1000px viewport */
}

.container {
  @apply bg-gray-50 rounded-xl shadow-xl mx-auto;
  width: min(90vw, 1000px); /* Scales with viewport, max 1000px */
  min-width: 320px; /* Minimum threshold */
  padding: 3vw; /* Matches 30px at 1000px viewport */
}

h1 {
  @apply text-center text-indigo-700 font-bold border-b-2 border-indigo-500;
  font-size: min(2.5vw, 2.5em); /* Matches 2.5em at 1000px viewport */
  margin-bottom: 2vw; /* Matches 20px */
  padding-bottom: 1vw; /* Matches 10px */
}

h2 {
  @apply text-indigo-600 font-semibold border-l-4 border-indigo-500;
  font-size: min(1.8vw, 1.8em);
  margin-top: 2vw;
  margin-bottom: 1.5vw;
  padding-left: 1vw;
}

h3 {
  @apply text-indigo-500 font-medium;
  font-size: min(1.4vw, 1.4em);
  margin-top: 1.5vw;
  margin-bottom: 1vw;
}

.form-group {
  @apply bg-blue-100 rounded-md flex flex-col items-start;
  margin-bottom: 1.8vw; /* Matches 18px */
  padding: 1.2vw; /* Matches 12px */
}

label {
  @apply inline-block font-bold text-indigo-800 mr-1;
  width: 20vw; /* Matches 200px at 1000px viewport */
  font-size: min(1vw, 1em);
}

input[type="text"],
input[type="number"],
select,
input[type="date"] {
  @apply border-2 border-teal-500 rounded-md bg-gray-50 shadow-sm focus:border-teal-600 focus:shadow-md focus:outline-none transition-all;
  padding: 0.8vw; /* Matches 8px */
  width: 15vw; /* Matches 150px */
  font-size: min(1vw, 1em);
}

input[type="radio"],
input[type="checkbox"] {
  @apply mr-1 align-middle;
  width: 1vw;
  height: 1vw;
}

table {
  @apply w-full border-collapse mt-[15px] bg-white shadow-sm table-fixed;
}

th,
td {
  @apply border border-gray-200 text-left whitespace-nowrap;
  padding: 1.2vw; /* Matches 12px */
  font-size: min(1vw, 1em);
}

th {
  @apply bg-indigo-600 text-white font-bold;
}

td {
  @apply bg-cyan-50;
}

/* Food Frequency Table Styles */
#foodFrequencyTable {
  @apply w-full border-collapse mt-[15px] bg-white shadow-sm table-fixed;
}

#foodFrequencyTable th,
#foodFrequencyTable td {
  @apply border border-gray-200 text-left whitespace-nowrap;
  padding: 1.2vw;
  font-size: min(1vw, 1em);
}

#foodFrequencyTable th {
  @apply bg-indigo-600 text-white font-bold;
}

#foodFrequencyTable td {
  @apply bg-cyan-50;
}

#foodFrequencyTable th:first-child,
#foodFrequencyTable td:first-child {
  @apply w-[30%]; /* Matches older CSS proportions */
}

#foodFrequencyTable th:not(:first-child),
#foodFrequencyTable td:not(:first-child) {
  @apply w-[14%]; /* Matches older CSS proportions */
}

/* Meal Recall Table Styles */
#mealRecallTableDay1_Early,
#mealRecallTableDay1_Breakfast,
#mealRecallTableDay1_Mid-morning,
#mealRecallTableDay1_Lunch,
#mealRecallTableDay1_Teatime,
#mealRecallTableDay1_Dinner,
#mealRecallTableDay1_Bedtime,
#mealRecallTableDay2_Early,
#mealRecallTableDay2_Breakfast,
#mealRecallTableDay2_Mid-morning,
#mealRecallTableDay2_Lunch,
#mealRecallTableDay2_Teatime,
#mealRecallTableDay2_Dinner,
#mealRecallTableDay2_Bedtime {
  @apply w-full border-collapse mt-[15px] bg-white shadow-sm table-fixed;
}

#mealRecallTableDay1_Early th,
#mealRecallTableDay1_Breakfast th,
#mealRecallTableDay1_Mid-morning th,
#mealRecallTableDay1_Lunch th,
#mealRecallTableDay1_Teatime th,
#mealRecallTableDay1_Dinner th,
#mealRecallTableDay1_Bedtime th,
#mealRecallTableDay2_Early th,
#mealRecallTableDay2_Breakfast th,
#mealRecallTableDay2_Mid-morning th,
#mealRecallTableDay2_Lunch th,
#mealRecallTableDay2_Teatime th,
#mealRecallTableDay2_Dinner th,
#mealRecallTableDay2_Bedtime th,
#mealRecallTableDay1_Early td,
#mealRecallTableDay1_Breakfast td,
#mealRecallTableDay1_Mid-morning td,
#mealRecallTableDay1_Lunch td,
#mealRecallTableDay1_Teatime td,
#mealRecallTableDay1_Dinner td,
#mealRecallTableDay1_Bedtime td,
#mealRecallTableDay2_Early td,
#mealRecallTableDay2_Breakfast td,
#mealRecallTableDay2_Mid-morning td,
#mealRecallTableDay2_Lunch td,
#mealRecallTableDay2_Teatime td,
#mealRecallTableDay2_Dinner td,
#mealRecallTableDay2_Bedtime td {
  @apply border border-gray-200 text-left whitespace-nowrap;
  padding: 0.8vw; /* Matches 8px */
  font-size: min(0.9vw, 0.9em);
}

#mealRecallTableDay1_Early th,
#mealRecallTableDay1_Breakfast th,
#mealRecallTableDay1_Mid-morning th,
#mealRecallTableDay1_Lunch th,
#mealRecallTableDay1_Teatime th,
#mealRecallTableDay1_Dinner th,
#mealRecallTableDay1_Bedtime th,
#mealRecallTableDay2_Early th,
#mealRecallTableDay2_Breakfast th,
#mealRecallTableDay2_Mid-morning th,
#mealRecallTableDay2_Lunch th,
#mealRecallTableDay2_Teatime th,
#mealRecallTableDay2_Dinner th,
#mealRecallTableDay2_Bedtime th {
  @apply bg-indigo-600 text-white font-bold;
}

#mealRecallTableDay1_Early td,
#mealRecallTableDay1_Breakfast td,
#mealRecallTableDay1_Mid-morning td,
#mealRecallTableDay1_Lunch td,
#mealRecallTableDay1_Teatime td,
#mealRecallTableDay1_Dinner td,
#mealRecallTableDay1_Bedtime td,
#mealRecallTableDay2_Early td,
#mealRecallTableDay2_Breakfast td,
#mealRecallTableDay2_Mid-morning td,
#mealRecallTableDay2_Lunch td,
#mealRecallTableDay2_Teatime td,
#mealRecallTableDay2_Dinner td,
#mealRecallTableDay2_Bedtime td {
  @apply bg-cyan-50;
}

/* Updated column widths for Item, Quantity, Unit, Actions */
#mealRecallTableDay1_Early th:nth-child(1),
#mealRecallTableDay1_Breakfast th:nth-child(1),
#mealRecallTableDay1_Mid-morning th:nth-child(1),
#mealRecallTableDay1_Lunch th:nth-child(1),
#mealRecallTableDay1_Teatime th:nth-child(1),
#mealRecallTableDay1_Dinner th:nth-child(1),
#mealRecallTableDay1_Bedtime th:nth-child(1),
#mealRecallTableDay2_Early th:nth-child(1),
#mealRecallTableDay2_Breakfast th:nth-child(1),
#mealRecallTableDay2_Mid-morning th:nth-child(1),
#mealRecallTableDay2_Lunch th:nth-child(1),
#mealRecallTableDay2_Teatime th:nth-child(1),
#mealRecallTableDay2_Dinner th:nth-child(1),
#mealRecallTableDay2_Bedtime th:nth-child(1),
#mealRecallTableDay1_Early td:nth-child(1),
#mealRecallTableDay1_Breakfast td:nth-child(1),
#mealRecallTableDay1_Mid-morning td:nth-child(1),
#mealRecallTableDay1_Lunch td:nth-child(1),
#mealRecallTableDay1_Teatime td:nth-child(1),
#mealRecallTableDay1_Dinner td:nth-child(1),
#mealRecallTableDay1_Bedtime td:nth-child(1),
#mealRecallTableDay2_Early td:nth-child(1),
#mealRecallTableDay2_Breakfast td:nth-child(1),
#mealRecallTableDay2_Mid-morning td:nth-child(1),
#mealRecallTableDay2_Lunch td:nth-child(1),
#mealRecallTableDay2_Teatime td:nth-child(1),
#mealRecallTableDay2_Dinner td:nth-child(1),
#mealRecallTableDay2_Bedtime td:nth-child(1) {
  @apply w-[40%];
}

#mealRecallTableDay1_Early th:nth-child(2),
#mealRecallTableDay1_Breakfast th:nth-child(2),
#mealRecallTableDay1_Mid-morning th:nth-child(2),
#mealRecallTableDay1_Lunch th:nth-child(2),
#mealRecallTableDay1_Teatime th:nth-child(2),
#mealRecallTableDay1_Dinner th:nth-child(2),
#mealRecallTableDay1_Bedtime th:nth-child(2),
#mealRecallTableDay2_Early th:nth-child(2),
#mealRecallTableDay2_Breakfast th:nth-child(2),
#mealRecallTableDay2_Mid-morning th:nth-child(2),
#mealRecallTableDay2_Lunch th:nth-child(2),
#mealRecallTableDay2_Teatime th:nth-child(2),
#mealRecallTableDay2_Dinner th:nth-child(2),
#mealRecallTableDay2_Bedtime th:nth-child(2),
#mealRecallTableDay1_Early td:nth-child(2),
#mealRecallTableDay1_Breakfast td:nth-child(2),
#mealRecallTableDay1_Mid-morning td:nth-child(2),
#mealRecallTableDay1_Lunch td:nth-child(2),
#mealRecallTableDay1_Teatime td:nth-child(2),
#mealRecallTableDay1_Dinner td:nth-child(2),
#mealRecallTableDay1_Bedtime td:nth-child(2),
#mealRecallTableDay2_Early td:nth-child(2),
#mealRecallTableDay2_Breakfast td:nth-child(2),
#mealRecallTableDay2_Mid-morning td:nth-child(2),
#mealRecallTableDay2_Lunch td:nth-child(2),
#mealRecallTableDay2_Teatime td:nth-child(2),
#mealRecallTableDay2_Dinner td:nth-child(2),
#mealRecallTableDay2_Bedtime td:nth-child(2) {
  @apply w-[20%];
}

#mealRecallTableDay1_Early th:nth-child(3),
#mealRecallTableDay1_Breakfast th:nth-child(3),
#mealRecallTableDay1_Mid-morning th:nth-child(3),
#mealRecallTableDay1_Lunch th:nth-child(3),
#mealRecallTableDay1_Teatime th:nth-child(3),
#mealRecallTableDay1_Dinner th:nth-child(3),
#mealRecallTableDay1_Bedtime th:nth-child(3),
#mealRecallTableDay2_Early th:nth-child(3),
#mealRecallTableDay2_Breakfast th:nth-child(3),
#mealRecallTableDay2_Mid-morning th:nth-child(3),
#mealRecallTableDay2_Lunch th:nth-child(3),
#mealRecallTableDay2_Teatime th:nth-child(3),
#mealRecallTableDay2_Dinner th:nth-child(3),
#mealRecallTableDay2_Bedtime th:nth-child(3),
#mealRecallTableDay1_Early td:nth-child(3),
#mealRecallTableDay1_Breakfast td:nth-child(3),
#mealRecallTableDay1_Mid-morning td:nth-child(3),
#mealRecallTableDay1_Lunch td:nth-child(3),
#mealRecallTableDay1_Teatime td:nth-child(3),
#mealRecallTableDay1_Dinner td:nth-child(3),
#mealRecallTableDay1_Bedtime td:nth-child(3),
#mealRecallTableDay2_Early td:nth-child(3),
#mealRecallTableDay2_Breakfast td:nth-child(3),
#mealRecallTableDay2_Mid-morning td:nth-child(3),
#mealRecallTableDay2_Lunch td:nth-child(3),
#mealRecallTableDay2_Teatime td:nth-child(3),
#mealRecallTableDay2_Dinner td:nth-child(3),
#mealRecallTableDay2_Bedtime td:nth-child(3) {
  @apply w-[20%];
}

#mealRecallTableDay1_Early th:nth-child(4),
#mealRecallTableDay1_Breakfast th:nth-child(4),
#mealRecallTableDay1_Mid-morning th:nth-child(4),
#mealRecallTableDay1_Lunch th:nth-child(4),
#mealRecallTableDay1_Teatime th:nth-child(4),
#mealRecallTableDay1_Dinner th:nth-child(4),
#mealRecallTableDay1_Bedtime th:nth-child(4),
#mealRecallTableDay2_Early th:nth-child(4),
#mealRecallTableDay2_Breakfast th:nth-child(4),
#mealRecallTableDay2_Mid-morning th:nth-child(4),
#mealRecallTableDay2_Lunch th:nth-child(4),
#mealRecallTableDay2_Teatime th:nth-child(4),
#mealRecallTableDay2_Dinner th:nth-child(4),
#mealRecallTableDay2_Bedtime th:nth-child(4),
#mealRecallTableDay1_Early td:nth-child(4),
#mealRecallTableDay1_Breakfast td:nth-child(4),
#mealRecallTableDay1_Mid-morning td:nth-child(4),
#mealRecallTableDay1_Lunch td:nth-child(4),
#mealRecallTableDay1_Teatime td:nth-child(4),
#mealRecallTableDay1_Dinner td:nth-child(4),
#mealRecallTableDay1_Bedtime td:nth-child(4),
#mealRecallTableDay2_Early td:nth-child(4),
#mealRecallTableDay2_Breakfast td:nth-child(4),
#mealRecallTableDay2_Mid-morning td:nth-child(4),
#mealRecallTableDay2_Lunch td:nth-child(4),
#mealRecallTableDay2_Teatime td:nth-child(4),
#mealRecallTableDay2_Dinner td:nth-child(4),
#mealRecallTableDay2_Bedtime td:nth-child(4) {
  @apply w-[20%];
}

table input[type="text"],
table input[type="number"],
table select,
table input[type="date"] {
  @apply w-full inline-block box-border;
  font-size: min(1vw, 1em);
}

button {
  @apply bg-teal-500 text-white rounded-md cursor-pointer font-bold hover:bg-teal-600 active:bg-teal-700 active:scale-95 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:opacity-70 transition-all;
  padding: 1vw 2vw; /* Matches 10px 20px */
  margin: 1vw 0.5vw;
  font-size: min(1vw, 1em);
}

.next-btn {
  @apply bg-indigo-500 hover:bg-indigo-600 active:bg-indigo-700;
}

#saveBtn {
  @apply bg-red-500 hover:bg-red-600 active:bg-red-700;
}

.add-row-btn,
.add-row-action-btn,
.remove-row-action-btn {
  @apply rounded-md cursor-pointer font-bold hover:scale-105 active:scale-95 transition-all;
  padding: 0.6vw 1.2vw; /* Matches 6px 12px */
  margin: 0 0.4vw;
  font-size: min(0.9vw, 0.9em);
}

.add-row-btn {
  @apply bg-teal-500 text-white hover:bg-teal-600 active:bg-teal-700;
}

.add-row-action-btn {
  @apply bg-indigo-500 text-white hover:bg-indigo-600 active:bg-indigo-700;
}

.remove-row-action-btn {
  @apply bg-red-500 text-white hover:bg-red-600 active:bg-red-700;
}

.survey-section.blurred {
  filter: blur(5px);
  pointer-events: none;
  opacity: 0.7;
  transition: filter 0.3s, opacity 0.3s;
}

.save-message {
  @apply hidden bg-teal-500 text-white rounded-md font-bold text-center animate-fadeOut;
  padding: 1vw 2vw;
  margin: 1vw 0;
  font-size: min(1vw, 1em);
  animation-delay: 2.5s;
}

.comeback-message {
  @apply hidden bg-red-500 text-white rounded-md font-bold text-center;
  padding: 1vw 2vw;
  margin: 1vw 0;
  font-size: min(1vw, 1em);
}

.meal-recall-container {
  @apply flex flex-col;
  gap: 2vw; /* Matches 20px */
}

.meal-time {
  @apply flex flex-col items-start;
}

.meal-time h3 {
  @apply m-0;
  margin-bottom: 1vw;
}

.meal-time label {
  @apply mr-1;
  font-size: min(1vw, 1em);
}

.meal-time table {
  @apply w-full mt-[10px] border-collapse;
}

.meal-time table th,
.meal-time table td {
  @apply border border-gray-200;
}

.survey-section[data-section="unit-reference"] .unit-images-container {
  @apply flex flex-wrap justify-center;
  gap: 2vw;
  margin: 2vw 0;
}

.survey-section[data-section="unit-reference"] .unit-image {
  @apply flex-none text-center;
  width: 30vw; /* Matches 300px */
}

.survey-section[data-section="unit-reference"] img.reference-image {
  @apply max-w-full max-h-[250px] h-auto block mx-auto mb-1 object-contain;
}

.survey-section[data-section="unit-reference"].blurred {
  filter: blur(5px) !important;
  pointer-events: none !important;
  opacity: 0.7 !important;
  transition: filter 0.3s, opacity 0.3s;
}

/* New classes for inline styles */
.uuid-display {
  @apply border border-gray-300 rounded-lg bg-gray-50;
  margin-bottom: 2vw;
  padding: 1.5vw;
  font-size: min(1vw, 1em);
}

.warning-text {
  @apply text-red-500 font-bold bg-red-100 rounded-md;
  font-size: min(1vw, 1em);
  margin-bottom: 1vw;
  padding: 1vw;
}

.hidden-group {
  @apply hidden;
}

.hidden-error {
  @apply hidden;
}

.calc-btn {
  @apply ml-1 align-middle bg-teal-500 text-white rounded-md hover:bg-teal-600 active:bg-teal-700;
  padding: 1vw 2vw;
  font-size: min(1vw, 1em);
}

.button-group {
  @apply mt-[20px];
}

.add-row-display {
  @apply block mb-1;
}

.locked-message {
  @apply block border border-red-500 rounded-lg bg-red-100 text-gray-800;
  margin-top: 2vw;
  padding: 1.5vw;
  font-size: min(1vw, 1em);
}

.unique-link {
  @apply text-teal-600 hover:underline font-semibold;
  font-size: min(1vw, 1em);
}

img {
  @apply max-w-full h-auto block;
}